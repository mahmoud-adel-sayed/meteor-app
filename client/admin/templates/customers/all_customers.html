<template name="allCustomers">
	<!-- Content Header (Page header) -->
        <section class="content-header">
          <h1>
            Customers
            <small>All Customers</small>
          </h1>
          <ol class="breadcrumb">
            <li><a href="{{pathFor route='dashboard'}}"><i class="fa fa-dashboard"></i> Home</a></li>
            <li class="active">All Customers</li>
          </ol>
        </section>

        <div>
          
        </div>

        <div class="row">
            <div class="col-md-12">
              <div class="box">
                <div class="box-header">
                  <h3 class="box-title">All Customers</h3>
                </div><!-- /.box-header -->
                <div class="box-body">
                  <table id="customers-table" class="table table-bordered table-hover">

                    <thead>
                      <tr>
                        <th>No</th>
                        <th>Customer Email</th>
                        <th>Role</th>
                      </tr>
                    </thead>

                    <tbody>
                      {{#each allCustomers}}
                        <tr>
                          <td></td>
                          <td> {{#each emails}} {{address}} {{/each}} </td>
                          <td>{{#each roles}} {{this}} {{/each}}</td>
                        </tr>
                      {{/each}}
                    </tbody>

                    <tfoot>
                      <tr>
                        <th>No</th>
                        <th>Customer Email</th>
                        <th>Role</th>
                      </tr>
                    </tfoot>

                  </table>
                </div><!-- /.box-body -->
              </div><!-- /.box -->
            </div><!-- /.col-->
          </div><!-- ./row -->

    <script>
      $(function () {
          var t = $('#customers-table').DataTable( {
            "columnDefs": [ {
                "searchable": false,
                "orderable": false,
                "targets": 0
            } ],
            "order": [[ 1, 'asc' ]]
        } );
     
        t.on( 'order.dt search.dt', function () {
            t.column(0, {search:'applied', order:'applied'}).nodes().each( function (cell, i) {
                cell.innerHTML = i+1;
            } );
        } ).draw();

      });
    </script> 	
</template>